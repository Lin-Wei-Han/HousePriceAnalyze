land %>%
drop_na()
library(tidyr)
land %>%
drop_na()
library(readxl)
library(tidyr)
data_directory = "C:/Users/FX505/Desktop/multipleRA"
land =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land[,-c(2,4,5,6,7,9,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("area","address","tradeDate","tradeLevel","totalTrade",
"type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
land %>% drop_na()
land <- land %>% drop_na()
cor(land)[1,]
land =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
data_directory = "C:/Users/FX505/Desktop/multipleRA"
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(2,4,5,6,7,9,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
View(land_before)
#remove col what we don't use
land = land_before[,-c(2,3,4,5,6,7,9,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("area","address","tradeDate","tradeLevel","totalTrade",
"type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(2,3,4,5,6,7,9,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("area","tradeDate","tradeLevel","totalTrade",
"type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
View(land_before)
data_directory = "C:/Users/FX505/Desktop/multipleRA"
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(2,3,4,5,6,7,9,10,11,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("area","tradeDate",
"type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
land$type <- case_when(
land$type = "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type = "公寓(5樓含以下無電梯)" ~ 3,
land$type = "華廈(10層含以下有電梯)" ~ 2,
land$type = "透天厝" ~ 1,
TRUE ~ 0
)
library(dplyr)
land$type <- case_when(
land$type = "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type = "公寓(5樓含以下無電梯)" ~ 3,
land$type = "華廈(10層含以下有電梯)" ~ 2,
land$type = "透天厝" ~ 1,
TRUE ~ 0
)
land$house_type <- case_when(
land$type = "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type = "公寓(5樓含以下無電梯)" ~ 3,
land$type = "華廈(10層含以下有電梯)" ~ 2,
land$type = "透天厝" ~ 1,
TRUE ~ 0
)
land$type <- case_when(
land$type == "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type == "公寓(5樓含以下無電梯)" ~ 3,
land$type == "華廈(10層含以下有電梯)" ~ 2,
land$type == "透天厝" ~ 1,
TRUE ~ 0
)
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(2,3,4,5,6,7,9,10,11,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
#rename
names(land) <- c("tradeDate","type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
library(tidyr)
library(dplyr)
data_directory = "C:/Users/FX505/Desktop/multipleRA"
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(1,2,3,4,5,6,7,9,10,11,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("tradeDate","type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
land$type <- case_when(
land$type == "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type == "公寓(5樓含以下無電梯)" ~ 3,
land$type == "華廈(10層含以下有電梯)" ~ 2,
land$type == "透天厝" ~ 1,
TRUE ~ 0
)
cor(land)[1,]
cor(land)
dim(land)
class(land)
View(land_before)
land_notime[,-c(1)]
land_notime=land[,-c(1)]
View(land_notime)
cor(land_notime)
cor(land_notime)[1,]
as.numeric(land_notime)
as.numeric(unlist(land_notime))
land_notime <- as.numeric(unlist(land_notime))
land_notime=land[,-c(1)]
#rename
names(land) <- c("tradeDate","type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
land$type <- case_when(
land$type == "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type == "公寓(5樓含以下無電梯)" ~ 3,
land$type == "華廈(10層含以下有電梯)" ~ 2,
land$type == "透天厝" ~ 1,
TRUE ~ 0
)
class(land_notime$totalKM)
land_notime <- as.numeric(land_notime$totalKM)
land_notime=land[,-c(1)]
#rename
names(land) <- c("tradeDate","type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
#remove col what we don't use
land = land_before[,-c(1,2,3,4,5,6,7,9,10,11,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
#rename
names(land) <- c("tradeDate","type","totalKM","room_amount","living_room_amount","bathroom_amount","totalPrize","perPrize")
#remove NA data
land <- land %>% drop_na()
land$type <- case_when(
land$type == "住宅大樓(11層含以上有電梯)"  ~ 4,
land$type == "公寓(5樓含以下無電梯)" ~ 3,
land$type == "華廈(10層含以下有電梯)" ~ 2,
land$type == "透天厝" ~ 1,
TRUE ~ 0
)
land_notime=land[,-c(1)]
land_notime$totalKM <- as.numeric(land_notime$totalKM)
cor(land_notime)[1,]
class(land_notime$type)
class(land_notime$room_amount)
land_notime$room_amount <- as.numeric(land_notime$room_amount)
land_notime$living_room_amount <- as.numeric(land_notime$living_room_amount)
land_notime$bathroom_amount <- as.numeric(land_notime$bath_amount)
land_notime$bathroom_amount <- as.numeric(land_notime$bathroom_amount)
class(land_notime$room_amount)
cor(land_notime)[1,]
land_notime$totalPrize <- as.numeric(land_notime$totalPrize)
land_notime$perPrize <- as.numeric(land_notime$perPrize)
cor(land_notime)[1,]
cor(land_notime)[6,]
mlm <- lm(totalPrize ~totalKM + room_amount + perPrize , data = land_notime)
summary(mlm)
df <- data.frame(totalKM = 30,room_amount=3,perPrize=40)
result <- predict(mlm, newdata = df)
result
mlm <- lm(totalPrize ~totalKM + room_amount , data = land_notime)
summary(mlm)
df <- data.frame(totalKM = 30,room_amount=3)
result <- predict(mlm, newdata = df)
result
cor(land_notime)[6,]
View(land_before)
ggplot(land_notime, aes(x = totalKM, y = totalPrize)) + geom_point()
library(ggplot2)
ggplot(land_notime, aes(x = totalKM, y = totalPrize)) + geom_point()
View(mpg)
ggplot(land_notime, aes(x = totalKM, y = totalPrize)) + geom_boxplot()
ggplot(land_notime, aes(x = room_amount, y = totalPrize)) + geom_point()
ggplot(land_notime, aes(x = room_amount, y = totalPrize)) + geom_boxplot()
autoplot(mlm)
install.packages("ggfortify")
library(ggfortify)
autoplot(mlm)
View(mlm)
# 常態性檢定
shapiro.test(mlm$residual)
library(readxl)
library(tidyr)
library(dplyr)
library(ggplot2)
data_directory = "C:/Users/FX505/Desktop/multipleRA"
land_before =  read_excel( file.path(data_directory, "land.xls"),sheet = 1)
View(land_before)
as.numeric(land_before$鄉鎮市區)
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
View(land)
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#remove col what we don't use
#land = land_before[,-c(1,2,3,4,5,6,7,9,10,11,13,14,15,20,21,24,25,26,27,28,29,30,31,32,33)]
land = land[-c(1),]
land$localArea
str(land$localArea)
class(land$localArea)
str(land)
strsplit (land$shiftFloor,"，")
#string to number
land$shiftFloor <- strsplit (land$shiftFloor,"，")
#string to number
land$shiftFloor <- strsplit (land$shiftFloor,"，")[1]
#string to number
land$shiftFloor <- strsplit (land$shiftFloor,"，")[[1]]
#string to number
land$shiftFloor <- strsplit(land$shiftFloor,"，")[1]
#string to number
land$shiftFloor <- strsplit(land$shiftFloor,"，")
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#string to number
land$shiftFloor <- strsplit(land$shiftFloor,"，")[1]
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#string to number
land$shiftFloor <- strsplit(land$shiftFloor,"，")[1]
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#string to number
land$shiftFloor <- strsplit(land$shiftFloor,"，")[[1]]
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#string to number
land$shiftFloor <- as.character(strsplit(land$shiftFloor,"，"))[[1]]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
#string to number
land$shiftFloor <- as.character(strsplit(land$shiftFloor,"，"))[1]
land = land_before[,-c(3,5,6,7,8,9,14,15,24,25,26,27,28,33)]
#rename
names(land) <- c("localArea","tradeSign","landShiftArea","shiftFloor","totalFloor","type","mainUse","totalKM",
"room_amount","living_room_amount","bathroom_amount","presentSituation","whetherManage",
"totalPrize","perPrize","mainBuildArea","secondBuildArea","balconyArea","elevator")
#remove NA data
land <- land %>% drop_na()
